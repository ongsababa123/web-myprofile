<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no'
        name='viewport' />
    <title>ข้อมูลส่วนตัว</title>
    <!--     Fonts and icons     -->
    <link href="../../assets/fontgoogle.css" rel="stylesheet" />
    <link rel="stylesheet" href="../../plugins/fontawesome-free/css/all.min.css">
    <link rel="stylesheet" href="../../dist/sweetalert/sweetalert2.min.css">
    <!-- CSS Files -->
    <link href="../../assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="../../assets/css/paper-kit.css" rel="stylesheet" />
    <!-- CSS Just for demo purpose, don't include it in your project -->
    <link href="../../assets/demo/demo.css" rel="stylesheet" />
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">

</head>
<style>
    * {
        font-family: 'Kanit', sans-serif;
    }

    .dropdown:hover .dropdown-menu {
        display: block;
    }
</style>
<style>
    .page-item.active .page-link {
        background-color: #2eb6dd;
        color: white;
        border-color: #2eb6dd;
    }

    .pagination>li>a:hover,
    .pagination>li>a:focus,
    .pagination>li>a:active,
    .pagination>li.active>a,
    .pagination>li.active>span,
    .pagination>li.active>a:hover,
    .pagination>li.active>span:hover,
    .pagination>li.active>a:focus,
    .pagination>li.active>span:focus {
        background-color: #2eb6dd;
        border-color: #2eb6dd;
        color: #FFFFFF;
    }

    .pagination>li>a,
    .pagination>li>span,
    .pagination>li:first-child>a,
    .pagination>li:first-child>span,
    .pagination>li:last-child>a,
    .pagination>li:last-child>span {
        background-color: transparent;
        border: 2px solid #4da3bb;
        border-radius: 20px;
        color: #2eb6dd;
        height: 36px;
        margin: 0 2px;
        min-width: 36px;
        padding: 8px 12px;
        font-weight: 600;
    }
</style>

<body class="landing-page sidebar-collapse">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg fixed-top bg-danger">
        <div class="container">
            <div class="navbar-translate">
                <a class="navbar-brand" href="./home.html" rel="tooltip" title="Coded by Creative Tim"
                    data-placement="bottom" style="font-size: medium; font-family: kanit;">
                    ชื่อร้าน
                </a>
                <a class="navbar-brand" href="../../index.html" rel="tooltip" title="Coded by Creative Tim"
                    data-placement="bottom" style="font-size: medium; font-family: kanit;">
                    Portfolio
                </a>
                <button class="navbar-toggler navbar-toggler" type="button" data-toggle="collapse"
                    data-target="#navigation" aria-controls="navigation-index" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-bar bar1"></span>
                    <span class="navbar-toggler-bar bar2"></span>
                    <span class="navbar-toggler-bar bar3"></span>
                </button>
            </div>
            <div class="collapse navbar-collapse justify-content-end" id="navigation">
                <ul class="navbar-nav">
                    <li class="nav-item dropdown" id="dropdown">
                        <a href="#" id="navbarDropdownMenu" data-toggle="dropdown" aria-haspopup="true"
                            style="font-size: medium; font-family: kanit;" aria-expanded="false"
                            class="nav-link">รายละเอียด</i></a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenu">
                            <a class="dropdown-item" style="font-size: medium; font-family: kanit;">
                                1 : ข้อจำกัดในการเช่าหนังสือ 7 เล่ม / ครั้ง
                            </a>
                            <a class="dropdown-item" style="font-size: medium; font-family: kanit;">
                                2 : หากลูกค้าทำหนังสือหายปรับตามราคาหนังสือเป็น 5 เท่า
                            </a>
                            <a class="dropdown-item" style="font-size: medium; font-family: kanit;">
                                3 : หากเลยกำหนดจะถูกปรับ 20 บาท / เล่ม / วัน
                            </a>
                            <a class="dropdown-item" style="font-size: medium; font-family: kanit;">
                                4 : ค่ามัดจำเล่มละ 100 บาท
                            </a>
                            <a class="dropdown-item" style="font-size: medium; font-family: kanit;">
                                5 : หากจองแล้วไม่เข้ามารับภายใน 2 วัน ที่ทำการจองจะต้องทำการจองใหม่เท่านั้น
                            </a>
                            <a class="dropdown-item" style="font-size: medium; font-family: kanit;">
                                6 : ให้สิทธ์ในการเช่าเพียง 1ครั้ง สูงสุด 7 เล่ม หากยังไม่คืนจะไม่มารถยืมต่อได้
                            </a>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a href="./booklist.html" class="nav-link" style="font-size: medium; font-family: kanit;">
                            รายการหนังสือ</a>
                    </li>
                    <li class="nav-item">
                        <a href="./contact.html" class="nav-link" style="font-size: medium; font-family: kanit;">
                            ติดต่อเรา</a>
                    </li>
                    <li class="nav-item">
                        <a href="./login.html" class="btn btn-warning btn-round"
                            style="font-size: medium; font-family: kanit;">เข้าสู่ระบบ</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false" class="btn btn-warning btn-round"><i
                                class="fas fa-user-circle"></i></a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item" href="./profile.html"
                                style="font-size: medium; font-family: kanit;">ข้อมูลส่วนตัว <i
                                    class="fas fa-id-card-alt"></i></a>
                            <a class="dropdown-item" href="./cart.html"
                                style="font-size: medium; font-family: kanit;">ตระกร้าสินค้า <i
                                    class="fas fa-shopping-cart"></i></a>
                            <a class="dropdown-item" href="./history.html"
                                style="font-size: medium; font-family: kanit;">ประวัติเช่าหนังสือ <i
                                    class="fas fa-history"></i></a>
                            <a class="dropdown-item" href="./login.html"
                                style="font-size: medium; font-family: kanit;">ออกจากระบบ <i
                                    class="fas fa-sign-out-alt"></i></a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="page-header page-header-xs" data-parallax="true"
        style="background-image: url('../../dist/img/background.png')">
        <div class="filter"></div>
    </div>
    <div class="main">
        <div class="section profile-content" style="padding-bottom: 5rem;">
            <div class="container">
                <div class="owner">
                    <div class="avatar">
                        <img src="../../dist/img/avatar7.png" alt="Circle Image"
                            class="img-circle img-no-padding img-responsive">
                    </div>
                    <div class="name">
                        <h4 class="title" style="font-family: kanit;">
                            Jirayut Bandit
                        </h4>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 ml-auto mr-auto text-center">
                        <p style="font-family: kanit;">อีเมล :jailyootbandit@gmail.com </p>
                        <p style="font-family: kanit;">เบอร์โทรศัพท์ : 0972654762 </p>
                        <p style="font-family: kanit;">จำนวนครั้งที่ยืม : 10 ครั้ง</p>
                        <br />
                        <btn class="btn btn-outline-default btn-round" data-toggle="modal" data-target="#loginModal" style="font-family: kanit;"><i class="fa fa-cog"></i> แก้ไขข้อมูล</btn>
                    </div>
                </div>
                <br />
            </div>
        </div>
    </div>
    <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-hidden="false">
        <div class="modal-dialog modal-register">
            <div class="modal-content">
                <div class="modal-header no-border-header text-center">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <h3 class="modal-title text-center" style="font-family: kanit;">แก้ไขข้อมูลส่วนตัว</h3>
                </div>
                <div class="modal-body">
                    <form class="mb-3" id="form_user" action="javascript:void(0)" method="post"
                        enctype="multipart/form-data">
                        <div class="row mb-2">
                            <div class="col">
                                <label style="font-family: kanit;">ชื่อ</label>
                                <input type="text" class="form-control" placeholder="กรอกชื่อของคุณ" id="name"
                                    name="name" value="jirayut" required style="font-family: kanit;">
                            </div>
                            <div class="col">
                                <label style="font-family: kanit;">นามสกุล</label>
                                <input type="text" class="form-control" placeholder="กรอกนามสกุลของคุณ" id="last"
                                    name="last" value="bandit" required style="font-family: kanit;">
                            </div>
                        </div>
                        <div class="form-group">
                            <label style="font-family: kanit;">เบอร์โทรศัพท์</label>
                            <input id="phone" name="phone" class="no-arrow form-control"
                                oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                type="number" maxlength="10" placeholder="กรอกเบอร์โทรศัพท์" value="0972654762"
                                required style="font-family: kanit;"/>
                        </div>
                        <div class="form-group">
                            <label style="font-family: kanit;">อีเมล</label>
                            <input type="text" placeholder="กรอกอีเมลของคุณ" class="form-control" id="email"
                                name="email" value="jailyootbandit@gmail.com" required style="font-family: kanit;"/>
                        </div>

                        <div class="form-group">
                            <label style="font-family: kanit;">Password</label>
                            <div class="form-check">
                                <label class="form-check-label">
                                    <input class="form-check-input" type="checkbox" value="" id="check" name="check" style="font-family: kanit;">
                                    แก้ไขรหัสผ่าน
                                    <span class="form-check-sign">
                                        <span class="check"></span>
                                    </span>
                                </label>
                            </div>
                            <input type="password" placeholder="กรอกรหัสผ่านของคุณ (กรณีเปลี่ยนรหัสผ่าน)"
                                class="form-control" id="password" name="password" oninput="checkPassword()" />
                        </div>
                        <div class="form-check" id="showpass">
                            <label class="form-check-label">
                                <input class="form-check-input" type="checkbox" value="" id="showpassword"
                                    name="showpassword">แสดงรหัสผ่าน
                                <span class="form-check-sign">
                                    <span class="check"></span>
                                </span>
                            </label>
                        </div>
                        <div class="alert alert-danger" role="alert" id="lengthAlert" style="display: none;">
                            รหัสผ่านต้องมีความยาวอย่างน้อย 8 ตัวอักษร
                        </div>
                        <div class="alert alert-danger" role="alert" id="charAlert" style="display: none;">
                            รหัสผ่านจะต้องมีตัวอักษร และตัวเลข
                        </div>
                        <div class="alert alert-danger" role="alert" id="symbolAlert" style="display: none;">
                            รหัสผ่านห้ามใช้เครื่องหมายพิเศษ
                        </div>
                        <button type="submit" class="btn btn-block btn-round" name="submit" value="Submit"
                            id="submit">บันทึกข้อมูล</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer bg-danger">
        <div class="container">
            <div class="row">
                <nav class="footer-nav">
                    <ul>
                        <li>
                            <a href="./home.html" style="color: white; font-family: kanit;">ชื่อร้าน</a>
                        </li>
                        <li>
                            <a href="./booklist.html" style="color: white; font-family: kanit;">รายการหนังสือ</a>
                        </li>
                        <li>
                            <a href="./contact.html" style="color: white; font-family: kanit;">ติดต่อเรา</a>
                        </li>
                    </ul>
                </nav>
                <div class="credits ml-auto">
                    <span class="copyright" style="color: white; font-family: kanit;">
                        ©
                        <script>
                            document.write(new Date().getFullYear())
                        </script>, made with <i class="fas fa-heart heart"></i> by Banglem
                    </span>
                </div>
            </div>
        </div>
    </footer>
    <!--   Core JS Files   -->
    <script src="../../assets/js/core/jquery.min.js" type="text/javascript"></script>
    <script src="../../assets/js/core/popper.min.js" type="text/javascript"></script>
    <script src="../../assets/js/core/bootstrap.min.js" type="text/javascript"></script>
    <!--  Plugin for Switches, full documentation here: http://www.jque.re/plugins/version3/bootstrap.switch/ -->
    <script src="../../assets/js/plugins/bootstrap-switch.js"></script>
    <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
    <script src="../../assets/js/plugins/nouislider.min.js" type="text/javascript"></script>
    <!--  Plugin for the DatePicker, full documentation here: https://github.com/uxsolutions/bootstrap-datepicker -->
    <script src="../../assets/js/plugins/moment.min.js"></script>
    <script src="../../assets/js/plugins/bootstrap-datepicker.js" type="text/javascript"></script>
    <!-- Control Center for Paper Kit: parallax effects, scripts for the example pages, etc -->
    <script src="../../assets/js/paper-kit.js?v=2.2.0" type="text/javascript"></script>
    <script src="../../dist/sweetalert/sweetalert2.js"></script>

    <script>
        $(document).ready(function () {
            $(".overlay").hide();
            $("#showpass").hide();
        });

        $("#form_user").on('submit', function (e) {
            e.preventDefault();
            var url =
                action_();
        });
    </script>
    <script>
        $('#password').prop('disabled', true);
        $('#check').on('change', function () {
            updateSubmitButton();

        });
    </script>
    <script>
        $('#check').on('change', function () {
            updateSubmitButton();
        });

        function checkPassword() {
            var passwordInput = document.getElementById("password");
            var lengthAlert = document.getElementById("lengthAlert");
            var symbolAlert = document.getElementById("symbolAlert");

            // Check ความยาว
            if (passwordInput.value.length >= 8) {
                lengthAlert.style.display = "none";
            } else {
                lengthAlert.style.display = "block";
            }

            // Check เครื่องหมายพิเศษ
            if (!/[^\w\s]/.test(passwordInput.value)) {
                symbolAlert.style.display = "none";
            } else {
                symbolAlert.style.display = "block";
            }

            if (/^(?=.*\d)(?=.*[a-zA-Z])/.test(passwordInput.value)) {
                charAlert.style.display = "none";
            } else {
                charAlert.style.display = "block";
            }

            updateSubmitButton();
        }

        function updateSubmitButton() {
            var checkCheckbox = $('#check').is(':checked');
            var passwordInput = document.getElementById("password");
            if (checkCheckbox) {
                $("#showpass").show();
                $('#password').prop('disabled', false);
                $('#submit').prop('disabled', true);
                if (passwordInput.value.length >= 8 && !/[^\w\s]/.test(passwordInput.value) && /^(?=.*\d)(?=.*[a-zA-Z])/.test(passwordInput.value)) {
                    $('#submit').prop('disabled', false);
                } else {
                    $('#submit').prop('disabled', true);
                }
            } else {
                $("#showpass").hide();
                $('#password').prop('disabled', true);
                $('#password').val('');
                $('.alert').hide();
                $('#submit').prop('disabled', false);
            }
        }
    </script>
    <script>
        function action_(url, form) {
            // แสดงกำลังโหลด
            Swal.fire({
                title: 'กำลังโหลด...',
                allowOutsideClick: false,
                onBeforeOpen: () => {
                    Swal.showLoading();
                }
            });
            Swal.close();
            Swal.fire({
                title: 'แก้ไขข้อมูลสำเร็จ',
                icon: 'success',
                showConfirmButton: false,
                allowOutsideClick: false
            });
            setTimeout(() => {
                window.location.reload();
            }, 2000);
        }
    </script>
    <script>
        const passwordInput = document.getElementById('password');
        const showPasswordCheckbox = document.getElementById('showpassword');

        showPasswordCheckbox.addEventListener('change', function () {
            if (this.checked) {
                passwordInput.type = 'text';
            } else {
                passwordInput.type = 'password';
            }
        });
    </script>
</body>

</html>